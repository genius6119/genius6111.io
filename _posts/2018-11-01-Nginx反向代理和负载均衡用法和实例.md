---
layout:     post
title:      Nginx反向代理和负载均衡的原理和实例
subtitle:   ——在两台学生机上的实际例子
date:       2018-11-01
author:     Zwx
header-img: img/home-bg-art.jpg
catalog: true
tags:
    - Linux
---

---
## Nginx

>Nginx (engine x) 是一个高性能的HTTP和反向代理服务，也是一个IMAP/POP3/SMTP服务。Nginx是由伊戈尔·赛索耶夫为俄罗斯访问量第二的Rambler.ru站点（俄文：Рамблер）开发的，第一个公开版本0.1.0发布于2004年10月4日。
>
>其将源代码以类BSD许可证的形式发布，因它的稳定性、丰富的功能集、示例配置文件和低系统资源的消耗而闻名。2011年6月1日，nginx 1.0.4发布。
>
> Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器，并在一个BSD-like 协议下发行。其特点是占有内存少，并发能力强，事实上nginx的并发能力确实在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。

百度百科是这样说的，总而言之nginx就是个Web服务器。那有人就纳闷了，Tomcat也是Web服务器，它俩有什么区别呢？

#### nginx和tomcat的区别
>web上的server都叫web server，但是大家分工也有不同的。
 >
>nginx常用做静态内容服务和代理服务器（不是你翻墙那个代理），直面外来请求转发给后面的应用服务（tomcat等），
>
>tomcat更多用来做做一个应用容器，让java web app跑在里面的东西。

---
## 反向代理

提反向代理之前必须要了解正向代理，用我自己的话总结一下：

- 正向代理： 客户端 告诉 同一内网下的代理服务器 自己要访问哪个外网，代理服务器访问这个外网服务器，把内容存到自己这里，然后把内容返回到客户端。客户端知道要访问的具体服务器地址（也有可能是另一个代理服务器），被访问的服务器并不知道是哪个客户端访问的它。（翻墙就是用的正向代理）
- 反向代理： 代理服务器 接受 因特网（外网）上某个 客户端 的请求，代理服务器按照一定的规则，访问某一个内网服务器，把内容存到自己这里，然后把内容返回到客户端。客户端只知道自己访问了个代理服务器，不知道自己访问的是哪一个具体的服务器。
